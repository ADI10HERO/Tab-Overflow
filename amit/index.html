<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta charset="utf-8">
  	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
 	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
 	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
 	<link rel="stylesheet" type="text/css" href="bootsnip_template.css">
 	<link rel="stylesheet" type="text/css" href="index.css">
 	<link rel="stylesheet" type="text/css" href="scrollbar.css">
	<script type=text/javascript>

		function removeTask(ctx)
		{
			ctx.parentNode.parentNode.removeChild(ctx.parentNode);
		}
		function lang1(event) 
		{
			//alert("inside event()");
			//var goFurthur = false;
			var target = event.target || event.srcElement;
			//var c = event.target.childNodes;
			//alert(event);

			// for(var i=0; i<c.length; i++)
			// {
			// 	alert(c[i].nodeName.toLowerCase());
			// 	if(c[i].nodeName.toLowerCase() == "li")
			// 	{
			// 		alert("li found");
			// 		goFurthur = true;
			// 		break;
			// 	}
			// }

			//alert(event.target.innerHTML);
			//if(goFurthur)
			{
				//alert("goFurthur = true");
				document.getElementById("outermost_openDiv").style.display = "block";
				document.getElementById("outermost_savedDiv").style.display = "block";
				display_open_tabs();
				display_saved_tabs_of_given_task(event.target.innerHTML);
			}
		}


		function add_new_task(thisCtx)
		{
			//alert("Inside add_new_task()");
			thisCtx.setAttribute("style", "visibility: hidden;");
			var div = document.getElementById("task_entry");
			var add_button = document.createElement("button");
			add_button.innerHTML="Add Task";
			add_button.setAttribute("class", "btn btn-primary btn-circle add_new_task_button");
    		add_button.setAttribute("name", "add_new_task_button"); //I dont think this will be of any use, not sure.
    		add_button.onclick = function() {
    			//alert("inside click listener of button");
    			var ul = document.getElementById("task");

    			var div = document.createElement("div");
    			div.setAttribute("style", "height: 55px;");

    			var share_btn = document.createElement("button");
    			share_btn.setAttribute("class", "btn btn-warning btn-circle btn-share");
    			share_btn.setAttribute("style", "float: right;");
    			var it_share = document.createElement("i");
    			it_share.setAttribute("class", "glyphicon glyphicon-share");
    			share_btn.appendChild(it_share);
    			//data-toggle="modal" data-target="#myModal"
    			share_btn.setAttribute("data-toggle", "modal");
    			share_btn.setAttribute("data-target", "#myModal");
    			share_btn.onclick = function() {
    				document.getElementById("modal_text_input").value = "";
    				current_task = this.parentNode.getElementsByTagName("li")[0].innerHTML;
    				document.getElementById("modal_title").innerHTML = "Share task " + current_task;
    				//alert(current_task);
    			}



    			var btn2 = document.createElement("button");
    			btn2.setAttribute("class", "btn btn-warning btn-circle btn-delete");
    			btn2.setAttribute("style", "float: right;");
    			//btn1.setAttribute("style", "background-color : white;");
    			btn2.onclick = function() {
    				this.parentNode.parentNode.removeChild(this.parentNode);

    			};
    			var it2 = document.createElement("i");
    			it2.setAttribute("class", "glyphicon glyphicon-remove");
    			btn2.appendChild(it2);

    			var btn1 = document.createElement("button");
    			btn1.setAttribute("class", "btn btn-primary btn-circle btn-edit");
    			btn1.setAttribute("style", "float: right;");
    			//btn1.setAttribute("style", "background-color : white;");
				btn1.onclick = function() {
					renameTask(this);
				};
    			var it1 = document.createElement("i");
    			it1.setAttribute("class", "glyphicon glyphicon-pencil");
    			btn1.appendChild(it1);

    			var li = document.createElement("li");
    			li.setAttribute("style", "text-align: left; margin-left: 5px;");
    			li.onclick = function(event) {
    				var target = event.target || event.srcElement;
    				display_open_tabs();
					display_saved_tabs_of_given_task(event.target.innerHTML);
					var outerDivs = this.parentNode.parentNode.getElementsByTagName("div");
					for(var i=0; i<outerDivs.length; i++)
						outerDivs[i].style.backgroundColor = "#ffffff";
					this.parentNode.setAttribute("style", "background-color: #ededed;");
    			}
    			var newTask = document.getElementById("new_task").value;
    			li.appendChild(document.createTextNode(newTask));


    			div.appendChild(share_btn);
    			div.appendChild(btn2);
    			div.appendChild(btn1);
    			
    			div.appendChild(li);
    			//div.setAttribute("style", "margin-right: 5%;");
    			div.onmouseover = function() {
					//this.setAttribute("style", "background-color: #aaaaaa;");
				};
				div.onmouseout = function () {
					//this.setAttribute("style", "background-color: #ffffff;");
				};

				ul.appendChild(div);
				text_input.remove();
				thisCtx.setAttribute("style", "visibility: visible;");
				this.remove();
    		};
			var text_input = document.createElement("input");
   			text_input.setAttribute("type", "text");
    		text_input.setAttribute("name", "new_task");
    		text_input.setAttribute("id", "new_task");
    		text_input.setAttribute("class", "form-control");
			div.appendChild(text_input);
			div.appendChild(add_button);
			// div.onmouseover = function() {
			// 	this.setAttribute("style", "box-shadow: 2px 2px grey;");
			// };
			// div.onmouseout = function () {
			// 	this.setAttribute("style", "box-shadow: 0px 0px white;");
			// };
		}

		function renameTask(ctx)
		{
			var dard = ctx.parentNode;
			var li;
			var temp_btn;
			var lis = ctx.parentNode.getElementsByTagName("li");
			for(var i=0; i<lis.length; i++)
			{
				li = lis[i];
			}
			li.remove();
			var text_input = document.createElement("input");
   			text_input.setAttribute("type", "text");
    		text_input.setAttribute("name", "rename_task");
    		text_input.setAttribute("id", "rename_task");
    		text_input.setAttribute("style", "width: auto");
    		text_input.setAttribute("class", "form-control col-md-8");

			text_input.value = li.innerHTML;
			ctx.parentNode.appendChild(text_input);

			var btns = dard.getElementsByTagName("button");
			console.log(btns);
			btns[0].remove();
			btns[0].remove();
			
			var btn1 = document.createElement("button");
    		btn1.setAttribute("class", "btn btn-primary btn-circle btn-save");
    		btn1.setAttribute("style", "float: right;");
    		var it1 = document.createElement("i");
    		// <i class="glyphicon glyphicon-floppy-save"></i>
    		it1.setAttribute("class", "glyphicon glyphicon-floppy-save");
    		btn1.appendChild(it1);
			dard.appendChild(btn1);
			btn1.onclick = function() {
				var new_text = text_input.value;
				var liAdd = document.createElement("li");
				liAdd.onclick = function(event) {
					var target = event.target || event.srcElement;
					display_open_tabs();
					display_saved_tabs_of_given_task(event.target.innerHTML);
				}
    			var newTaskAdd = text_input.value;
    			liAdd.appendChild(document.createTextNode(newTaskAdd));
    			liAdd.setAttribute("style", "text-align: left");
				text_input.remove();
				
				
				var btn1Add = document.createElement("button");
    			btn1Add.setAttribute("class", "btn btn-primary btn-circle btn-edit");
    			btn1Add.setAttribute("style", "float: right");
				btn1Add.onclick = function() {
					renameTask(this);
				};
				var it1 = document.createElement("i");
				it1.setAttribute("class", "glyphicon glyphicon-pencil");
				btn1Add.appendChild(it1);

				var btn2Add = document.createElement("button");
				btn2Add.setAttribute("class", "btn btn-warning btn-circle btn-delete");
				btn2Add.setAttribute("style", "float: right;");
				btn2Add.onclick = function() {
					this.parentNode.parentNode.removeChild(this.parentNode);
				};
				var it2 = document.createElement("i");
				it2.setAttribute("class", "glyphicon glyphicon-remove");
				btn2Add.appendChild(it2);

				var share_btn = document.createElement("button");
				share_btn.setAttribute("class", "btn btn-warning btn-circle btn-share");
				share_btn.setAttribute("style", "float: right;");
				var it_share = document.createElement("i");
				it_share.setAttribute("class", "glyphicon glyphicon-share");
				share_btn.appendChild(it_share);
				//data-toggle="modal" data-target="#myModal"
				share_btn.setAttribute("data-toggle", "modal");
				share_btn.setAttribute("data-target", "#myModal");
				share_btn.onclick = function() {
    				current_task = this.parentNode.getElementsByTagName("li")[0].innerHTML;
    				document.getElementById("modal_title").innerHTML = "Share task " + current_task;
    				//alert(current_task);
    			}

				dard.appendChild(share_btn);
				dard.appendChild(btn2Add);
				dard.appendChild(btn1Add);
				
				dard.appendChild(liAdd);
				btn1.remove();
			};	
		}

		function display_saved_tabs_of_given_task(task_name)
		{
			document.getElementById("saved_tabs_div").style.display = "block";
			document.getElementById("outermost_openDiv").style.display = "block";
			document.getElementById("outermost_savedDiv").style.display = "block";
			//alert("inside display saved tabs : " + task_name);
			add_to_saved_tabs("dard");
			add_to_saved_tabs("is");
			add_to_saved_tabs("real");
			add_to_saved_tabs("my");
			add_to_saved_tabs("friend");

		}

		function add_to_saved_tabs(add_to_saved)
		{
			var outer_div = document.getElementById("saved_tabs_div");
			var ul = document.createElement("ul");
			ul.setAttribute("id", "saved_tabs");
			outer_div.appendChild(ul);

			var tabName = add_to_saved;
			var ul = document.getElementById("saved_tabs");

			var div = document.createElement("div");
			div.setAttribute("style", "height: 40px;");
			div.setAttribute("style", "overflow: auto;");
			var btn = document.createElement("button");
			btn.setAttribute("type", "button");
			btn.setAttribute("class", "btn btn-warning btn-circle btn-trash");
			btn.setAttribute("style", "float: right; ");
			var it = document.createElement("i");
			it.setAttribute("class", "glyphicon glyphicon-trash");
			btn.appendChild(it);

			var li = document.createElement("li");
			li.appendChild(document.createTextNode(tabName));
			li.setAttribute("style", "text-align: left; margin-left: 5px;  overflow-x: auto;");

			div.appendChild(btn);
			div.appendChild(li);
			div.onmouseover = function() {
				this.setAttribute("style", "background-color: #aaaaaa; overflow: auto;");
			};
			div.onmouseout = function () {
				this.setAttribute("style", "background-color: #ffffff");
			};

			ul.appendChild(div);
			btn.onclick = function() {
				this.parentNode.remove();
			};
		}

		function display_open_tabs()
		{
			document.getElementById("open_tabs").remove();
			var div = document.getElementById("open_tabs_div");
			var ul = document.createElement("ul");
			ul.setAttribute("id", "open_tabs");
			div.appendChild(ul);
			var open_tabs = ["https://docs.google.com/presentation/d/1k3A2cWFBRKbp86sdbr2e8OehI8dVfQPshcghyyftuAqAuoeq0U/edit", "https://www.sih.gov.in/", "https://www.uwatchfree.sx/", "www.yahoo.com"];
			document.getElementById("open_tabs_div").style.display = "block";
			for(var i=0; i<open_tabs.length; i++)
			{
				var tab_name = open_tabs[i];
				var ul = document.getElementById("open_tabs");

				var div = document.createElement("div");
				div.setAttribute("style", "height: 40px; overflow: auto;");
				var btn = document.createElement("button");
				btn.setAttribute("type", "button");
				btn.setAttribute("class", "btn btn-warning btn-circle btn_open_tabs");
				btn.setAttribute("style", "float: right; height: 48px;");
				var it = document.createElement("i");
				it.setAttribute("class", "glyphicon glyphicon-copy");
				btn.appendChild(it);

				var li = document.createElement("li");
				li.setAttribute("style", "text-align: left; margin-left: 5px; overflow-x: auto;");
				li.appendChild(document.createTextNode(tab_name));

				div.appendChild(btn);
				div.appendChild(li);
				div.onmouseover = function() {
					this.setAttribute("style", "background-color: #dedede; overflow: auto;");
				};
				div.onmouseout = function () {
					this.setAttribute("style", "background-color: #ffffff");
				};

				ul.appendChild(div);
				btn.onclick = function() {
					var li = this.parentNode.getElementsByTagName("li");
					// alert(li[0].textContent);
					add_to_saved_tabs(li[0].textContent);
				};
			}
		}

		function load_activities()
		{
			//alert("inside load_activities()");
			var activities = ['Activity1','Activity2','Activity3','Activity4','Activity5'];
			var select_tag_of_activities = document.getElementById("select_activity");
			for(var i=0; i<activities.length; i++)
			{
				var option = document.createElement("option");
				option.setAttribute("value", activities[i]);
				option.innerHTML = activities[i];
				select_tag_of_activities.appendChild(option);
			}
		}

		function get_activity_name()
		{
			var activity_name = document.getElementById("select_activity").value;
			alert(activity_name + " is selected");
			document.getElementById("tasks").style.display = "block";
			//display_tasks(activity_name);
		}

	</script>
</head>
<body onload="load_activities();" style="background: #aaaaaa">
<div>
<div id="extra_buttons" style="width: 100%; float: right;">
	<div style="width: 100%;">
		<a href="#" class="btn btn-default btn-lg" style="float: right;">
	        <span class="glyphicon glyphicon-sort"></span> Sort
	    </a>
	</div>
	<div style="width: 100%;">
		<button type="button" class="btn btn-default btn-lg" id="redo" style="float: right;">
			<span style="align-items: center;" class="glyphicon glyphicon-menu-right"></span>
		</button>

		<button type="button" class="btn btn-default btn-lg" id="undo" style="float: right;">
			<span style="align-items: center;" class="glyphicon glyphicon-menu-left"></span>
		</button>
	</div>
	<!-- <button type="button" class="btn btn-default btn-lg" style="float: right;">
		<span style="align-items: center;" class="glyphicon glyphicon-share">SHARE</span>
	</button> -->

</div>
<div class="demo">
    <div class="container">
	        <div class="row" style="padding:10px;">
	        	<!-- <div class="col-md-4"></div> -->
				<div class="col-md-4">
					<select class="form-control input-lg" id="select_activity" onchange="get_activity_name();">
						<option disabled selected>Select the activity</option>
					</select>
				</div>
				<div class="col-md-4"></div>
			</div>
			<!-- Modal -->
			<div class="modal fade" id="myModal" role="dialog">
				<div class="modal-dialog">

				<!-- Modal content-->
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">&times;</button>
							<h4 class="modal-title" id="modal_title">Share task</h4>
						</div>
						<div class="modal-body">
							<input type="text" name="modal_text_input" id="modal_text_input" class="form-control">
							<ul id="show_email_ids"></ul>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal" id="modal_btn_share">Share</button>
							<button type="button" class="btn btn-danger" data-dismiss="modal" id="modal_btn_close">Close</button>
						</div>
					</div>

				</div>
			</div>
	        <div class="row">
	            <div class="col-md-4 col-sm-6">
	                <div class="pricingTable" style="height: 400px; overflow-y: auto;">
	                	<button type="button" id="add_new_task"class="btn btn-default btn-lg" onclick="add_new_task(this);">
	          					<span class="glyphicon glyphicon-plus"></span>
	        				</button>
	                    <svg x="0" y="130" viewBox="0 70 360 150">
	                        <g>
	                            <path fill="#ae003d" d="M0.732,193.75c0,0,29.706,28.572,43.736-4.512c12.976-30.599,37.005-27.589,44.983-7.061
	                                c8.09,20.815,22.83,41.034,48.324,27.781c21.875-11.372,46.499,4.066,49.155,5.591c6.242,3.586,28.729,7.626,38.246-14.243
	                                s27.202-37.185,46.917-8.488c19.715,28.693,38.687,13.116,46.502,4.832c7.817-8.282,27.386-15.906,41.405,6.294V0H0.48
	                                L0.732,193.75z"></path>
	                        </g>
	                        <text transform="matrix(1 0 0 1 40 150)" fill="#fff" font-size="78.4489">Tasks</text>
	                        <!-- <text transform="matrix(0.9566 0 0 1 197.3096 83.9121)" fill="#fff" font-size="29.0829">sks</text>
	                        <text transform="matrix(1 0 0 1 233.9629 115.5303)" fill="#fff" font-size="15.4128">'</text> -->
	                    </svg>
	                    <div class="pricing-content" id="tasks">
	                    	<!-- <div id="custom-search-input" style="width: 100%; padding-left: 2px; padding-right: 2px;">
	                            <div class="input-group col-md-12">
	                                <input type="text" id="search_bar" class="search-query form-control" placeholder="Search for task" />
	                            </div>
                        	</div> -->
	                        
	                        <ul class="pricing-content" id="task">
	                        </ul>
	                        <div id="task_entry"></div>
	                    </div>
	                </div>
	            </div>
	            <div id="outermost_openDiv" class="col-md-4 col-sm-6" style="display: none;">
	                <div class="pricingTable blue" style="height: 400px; overflow-y: auto;">
	                    <svg x="0" y="0" viewBox="0 70 360 150">
	                        <g>
	                            <path fill="#005c99" d="M0.732,193.75c0,0,29.706,28.572,43.736-4.512c12.976-30.599,37.005-27.589,44.983-7.061
	                                c8.09,20.815,22.83,41.034,48.324,27.781c21.875-11.372,46.499,4.066,49.155,5.591c6.242,3.586,28.729,7.626,38.246-14.243
	                                s27.202-37.185,46.917-8.488c19.715,28.693,38.687,13.116,46.502,4.832c7.817-8.282,27.386-15.906,41.405,6.294V0H0.48
	                                L0.732,193.75z"></path>
	                        </g>
	                        <text transform="matrix(1 0 0 1 69.7256 150)" fill="#fff" font-size="78.4489">Open</text>
	                        <!-- <text transform="matrix(0.9566 0 0 1 197.3096 83.9121)" fill="#fff" font-size="29.0829">.99</text>
	                        <text transform="matrix(1 0 0 1 233.9629 115.5303)" fill="#fff" font-size="15.4128">/Month</text> -->
	                    </svg>
	                    <div class="pricing-content" id="open_tabs_div" style="display: none;">
	                        <ul class="pricing-content" id="open_tabs">
	                            <!-- <li><b>60GB</b> Disk Space</li>
	                            <li><b>60</b> Email Accounts</li>
	                            <li><b>60GB</b> Bandwidth</li>
	                            <li><b>15</b> Subdomains</li>
	                            <li><b>20</b> Domains</li> -->
	                        </ul>
	                    </div>
	                </div>
	            </div>
	            <div id="outermost_savedDiv" class="col-md-4 col-sm-6" style="display: none;">
		            <div class="pricingTable red" style="height: 400px; overflow-y: auto;">
		                <svg x="0" y="0" viewBox="0 70 360 150">
		                    <g>
		                        <path fill="#db2c29" d="M0.732,193.75c0,0,29.706,28.572,43.736-4.512c12.976-30.599,37.005-27.589,44.983-7.061
		                            c8.09,20.815,22.83,41.034,48.324,27.781c21.875-11.372,46.499,4.066,49.155,5.591c6.242,3.586,28.729,7.626,38.246-14.243
		                            s27.202-37.185,46.917-8.488c19.715,28.693,38.687,13.116,46.502,4.832c7.817-8.282,27.386-15.906,41.405,6.294V0H0.48
		                            L0.732,193.75z"></path>
		                    </g>
		                    <text transform="matrix(1 0 0 1 69.7256 150)" fill="#fff" font-size="78.4489">Saved</text>
		                    <!-- transform="matrix(1 0 0 1 69.7256 116.2686)" -->
		                    <!-- <text transform="matrix(0.9566 0 0 1 197.3096 83.9121)" fill="#fff" font-size="29.0829">.99</text>
		                    <text transform="matrix(1 0 0 1 233.9629 115.5303)" fill="#fff" font-size="15.4128">/Month</text> -->
		                </svg>
		                <div class="pricing-content" id="saved_tabs_div">
		                    <ul class="pricing-content" id="saved_tabs">
		                        <!-- <li><b>70GB</b> Disk Space</li>
		                        <li><b>70</b> Email Accounts</li>
		                        <li><b>70GB</b> Bandwidth</li>
		                        <li><b>20</b> Subdomains</li>
		                        <li><b>25</b> Domains</li> -->
		                    </ul>
		                </div>
		            </div>
	        	</div>
	        </div>
	    </div>
	</div>
</div>
<script type="text/javascript">
		current_task = "";

		document.getElementById("modal_btn_share").onclick = function() {
			var to_email = document.getElementById("modal_text_input").value;
			var from_email = "dard@realDard.com";
			task = current_task;
			alert(to_email + " " + from_email + " " + task);
		};


		document.getElementById("modal_text_input").onkeyup = function() {
			var input = document.getElementById("modal_text_input").value;
			document.getElementById("show_email_ids").style.display = "block";
			//document.getElementById("show_email_ids").style.display = "none";
			var lis = document.getElementById("show_email_ids").getElementsByTagName("li");
			for(var i=0;i<lis.length;i++)
			{
				lis[i].style.display = "block";
			}
			arr = get_all_email_ids();
			//arr = ["amit.mahajan@somaiya.edu", "akshay.kotak@somaiya.edu", "atharva.gole@somaiya.edu", "harshal.ad@somaiya.edu", "jaineel.ns@somaiya.edu"];
			for (i=0; i<lis.length; i++) 
			{
		        //a = li[i].getElementsByTagName("a")[0];
		        txtValue = lis[i].textContent || lis[i].innerText;
		        if (txtValue.indexOf(input) > -1) 
		        {
		        	//alert("inside if");
		            lis[i].style.display = "block";
		        } 
		        else 
		        {
		            lis[i].style.display = "none";
		        }
		    }
		};
		function populate_email_ids_in_ul_for_searching()
		{
			ul = document.getElementById("show_email_ids");
			var arr = get_all_email_ids();
			for(var i=0;i<arr.length;i++)
			{
				var li = document.createElement("li");
				li.appendChild(document.createTextNode(arr[i]));
				li.setAttribute("value", arr[i]);
				li.setAttribute("display", "none");
				li.setAttribute("class", "list-group-item");
				li.setAttribute("style", "width: 100%;");
				li.onclick = function() {
					document.getElementById("modal_text_input").value = this.innerHTML;
					this.parentNode.style.display = "none";
					//alert(document.getElementById("modal_text_input").value);
				};
				ul.appendChild(li);
			}
			ul.style.display = "none";
		}

		document.getElementById("modal_btn_close").onclick = hide_all_email_ids();

		function hide_all_email_ids()
		{

			var ul = document.getElementById("show_email_ids");
			//ul.style.display = "block";
			var lis = ul.getElementsByTagName("li");
			for(var i=0; i<lis.length; i++)
			{
				lis[i].style.display = "none";
			}
			ul.style.display = "none";
		}

		function get_all_email_ids()
		{
			//funtcn to get all email ids from database
			arr = ["amit.mahajan@somaiya.edu", "akshay.kotak@somaiya.edu", "atharva.gole@somaiya.edu", "harshal.ad@somaiya.edu", "jaineel.ns@somaiya.edu"];
			return arr;
		}
		populate_email_ids_in_ul_for_searching();
</script>
</body>
</html>